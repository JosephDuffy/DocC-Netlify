{"topicSections":[{"title":"Middleware","identifiers":["doc:\/\/VaporDocC\/documentation\/VaporDocC\/VaporDocCMiddleware"]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Initialise the middleware, providing the path to your DocC archive, e.g.:"}]},{"type":"codeListing","syntax":"swift","code":["let archiveURL = URL(fileURLWithPath: \"\/path\/to\/VaporDocC.doccarchive\")","app.middleware.use(VaporDocCMiddleware(archivePath: archiveURL))"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By default "},{"type":"reference","isActive":true,"identifier":"doc:\/\/VaporDocC\/documentation\/VaporDocC\/VaporDocCMiddleware"},{"type":"text","text":" will map requests with hardcoded prefixes to the DocC archive, following the rules outlined in the .htaccess file from the "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10236"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"apacheconf","code":["# Enable custom routing.","RewriteEngine On","","# Route documentation and tutorial pages.","RewriteRule ^(documentation|tutorials)\\\/.*$ SlothCreator.doccarchive\/index.html [L]","","# Route files within the documentation archive.","RewriteRule ^(css|js|data|images|downloads|favicon\\.ico|favicon\\.svg|img|theme-settings\\.json|videos)\\\/.*$ SlothCreator.doccarchive\/$0 [L]"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The only difference is that "},{"type":"codeVoice","code":"VaporDocCMiddleware"},{"type":"text","text":" does not require a trailing slash when matching "},{"type":"codeVoice","code":"favicon.ico"},{"type":"text","text":", "},{"type":"codeVoice","code":"favicon.svg"},{"type":"text","text":", or "},{"type":"codeVoice","code":"theme-settings.json"},{"type":"text","text":"."}]}]}],"variants":[{"paths":["\/documentation\/vapordocc"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/VaporDocC\/documentation\/VaporDocC","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Vapor middleware that serves files from a DocC archive."}],"kind":"symbol","metadata":{"roleHeading":"Framework","externalID":"VaporDocC","title":"VaporDocC","symbolKind":"module","role":"collection","modules":[{"name":"VaporDocC"}]},"hierarchy":{"paths":[[]]},"documentVersion":0,"references":{"doc://VaporDocC/documentation/VaporDocC":{"role":"collection","title":"VaporDocC","abstract":[{"type":"text","text":"Vapor middleware that serves files from a DocC archive."}],"identifier":"doc:\/\/VaporDocC\/documentation\/VaporDocC","kind":"symbol","type":"topic","url":"\/documentation\/vapordocc"},"https://developer.apple.com/wwdc21/10236":{"title":"WWDC21 talk “Host and automate your DocC documentation”","titleInlineContent":[{"type":"text","text":"WWDC21 talk “Host and automate your DocC documentation”"}],"type":"link","identifier":"https:\/\/developer.apple.com\/wwdc21\/10236","url":"https:\/\/developer.apple.com\/wwdc21\/10236"},"doc://VaporDocC/documentation/VaporDocC/VaporDocCMiddleware":{"role":"symbol","title":"VaporDocCMiddleware","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"VaporDocCMiddleware"}],"abstract":[{"type":"text","text":"Vapor middleware that serves files from a DocC archive."}],"identifier":"doc:\/\/VaporDocC\/documentation\/VaporDocC\/VaporDocCMiddleware","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"VaporDocCMiddleware"}],"url":"\/documentation\/vapordocc\/vapordoccmiddleware"}}}